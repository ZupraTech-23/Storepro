<% layout('/layouts/boilerplate') %>

  <link rel="stylesheet" href="/style/add-inventory.css">


<div class="inventory-dashboard">

  <!-- HEADER -->
  <div class="inventory-header">
    <h2>Add Inventory Item</h2>
    <p>Manage your stock with accurate pricing & details</p>
  </div>

  <!-- FORM BOX -->
  <div class="inventory-box">

    <form action="/add-inventory" method="POST" class="inventory-form needs-validation" novalidate>

      <!-- BASIC INFO -->
      <div class="form-section">
        <h4 class="section-title">Basic Information</h4>

        <div class="form-row">
          <label>Item Name</label>
          <input type="text" name="name" data-type="item" placeholder="e.g. Samsung Galaxy S23" class="form-control auto-input"  autocomplete="off" required />
          <ul class="list-group suggestion-box d-none"></ul>
          <div class="invalid-feedback">Item name is required</div>
        </div>

        <div class="form-row">
          <label>Category</label>
          <input type="text" name="category" data-type="category" placeholder="e.g. Smartphones" class="form-control auto-input" autocomplete="off" required />
          <ul class="list-group suggestion-box d-none"></ul>
          <div class="invalid-feedback">Category is required</div>
        </div>

        <div class="form-row">
          <label>Brand</label>
          <input type="text" name="brand" data-type="brand" placeholder="e.g. Samsung" class="form-control auto-input" required autocomplete="off"/>
          <ul class="list-group suggestion-box d-none"></ul>
          <div class="invalid-feedback">Brand name is required</div>
        </div>
      </div>

      <!-- PRICING -->
      <div class="form-section">
        <h4 class="section-title">Pricing Details</h4>

        <div class="price-row">
          <div>
            <label>Purchase Price</label>
            <input type="number" name="purchase_price" min="0" placeholder="₹ 0.00" class="form-control no-arrow"  required />
            <div class="invalid-feedback">Purchase Price is required</div>
          </div>

          <div>
            <label>Selling Price</label>
            <input type="number" name="selling_price" min="0" placeholder="₹ 0.00" class="form-control no-arrow" required />
            <div class="invalid-feedback">Selling Price is required</div>
          </div>
          <div>
            <label for="item_condition">Condition (not required for accessories)</label>
            <select name="item_condition" class="form-control" required>
    <option value="" >Select Condition</option>
    <option value="NEW">New</option>
    <option value="PRE_OWNED">Pre-Owned</option>
</select>
            
            
            
          </div>
        </div>
      </div>

      <!-- STOCK & NOTES -->
      <div class="form-section">
        <h4 class="section-title">Stock</h4>

        <div class="form-row small-row">
          <label>Opening Stock</label>
          <input type="number" name="stock" min="0" class="form-control no-arrow"  required />
          <div class="invalid-feedback">Stock is required</div>
        </div>


      <!-- ACTIONS -->
      <div class="form-actions">
        <button type="submit" id="inventorySubmitBtn" class="btn primary">Add Item</button>
        <a href="/inventory" class="btn secondary">Cancel</a>
      </div>

    </form>

  </div>
</div>

<script>
  document.querySelector('.inventory-form').addEventListener('submit', function(e) {
    const submitBtn = document.getElementById('inventorySubmitBtn');
    if (submitBtn.disabled) {
      e.preventDefault();
      return false;
    }
    submitBtn.disabled = true;
    submitBtn.textContent = 'Adding...';
  });
</script>

<script src="/js/script.js"></script>
<script src="/js/suggestion.js"></script>
